# Parking Garage API Environment Configuration

# =============================================================================
# REQUIRED - MUST BE SET IN ALL ENVIRONMENTS
# =============================================================================

# Database Configuration
DATABASE_URL="file:./dev.db"

# JWT Configuration (CRITICAL - CHANGE IN PRODUCTION)
# Generate secure secrets: openssl rand -base64 64
JWT_SECRET="your-super-secure-jwt-secret-minimum-32-characters-long"
JWT_REFRESH_SECRET="your-super-secure-refresh-secret-minimum-32-characters-long"

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Settings
PORT=3000
NODE_ENV=development
HOST=0.0.0.0

# CORS Configuration
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:9000,http://127.0.0.1:9000"

# JWT Settings
JWT_EXPIRES_IN="1h"
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Authentication Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=15
PASSWORD_SALT_ROUNDS=12

# Session Security (optional - for session-based auth)
SESSION_SECRET="your-super-secure-session-secret-minimum-32-characters"

# CSRF Protection (optional)
CSRF_SECRET="your-super-secure-csrf-secret-minimum-32-characters"

# Encryption Key (for sensitive data)
ENCRYPTION_KEY="your-super-secure-encryption-key-minimum-32-characters"

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Email Provider: smtp, gmail, sendgrid
EMAIL_PROVIDER=smtp

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
EMAIL_USER="your-email@example.com"
EMAIL_PASSWORD="your-app-password"

# Gmail Specific (if using Gmail)
EMAIL_APP_PASSWORD="your-gmail-app-password"

# SendGrid (if using SendGrid)
SENDGRID_API_KEY="your-sendgrid-api-key"

# Email Settings
EMAIL_FROM="noreply@parkinggarage.com"
EMAIL_FROM_NAME="Parking Garage System"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level: error, warn, info, debug
LOG_LEVEL=info

# Log File Configuration
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_FILES=7
LOG_FILE_DATE_PATTERN=YYYY-MM-DD

# Enable/Disable specific loggers
ENABLE_REQUEST_LOGGING=true
ENABLE_DATABASE_LOGGING=false
ENABLE_ERROR_LOGGING=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# General Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Email Rate Limiting
EMAIL_RATE_LIMIT_PER_HOUR=100
EMAIL_RATE_LIMIT_PER_RECIPIENT_HOUR=5

# File Upload Configuration
MAX_FILE_SIZE=5242880
UPLOAD_PATH=uploads/
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.pdf,.doc,.docx
ENABLE_FILE_UPLOAD=true

# Security Configuration
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET=your-session-secret-key-here
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# API Configuration
API_VERSION=v1
API_PREFIX=/api
SWAGGER_ENABLED=true
API_RATE_LIMIT_POINTS=100
API_RATE_LIMIT_DURATION=900

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Application Performance Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Error Tracking (Sentry)
SENTRY_DSN=""
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
REMOTE_BACKUP_ENABLED=false
S3_BUCKET=your-backup-bucket
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Notification Configuration
NOTIFICATION_EMAIL=admin@yourdomain.com
SLACK_WEBHOOK_URL=your-slack-webhook-url
DISCORD_WEBHOOK_URL=your-discord-webhook-url
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SLACK_NOTIFICATIONS=false
ENABLE_DISCORD_NOTIFICATIONS=false

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching)
# =============================================================================

REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0
CACHE_TTL=3600

# Feature Flags
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ANALYTICS=true
FEATURE_EXPORT=true
FEATURE_BULK_OPERATIONS=true
FEATURE_ADVANCED_SEARCH=true

# Development Configuration
DEBUG=parkinggarage:*
NODE_OPTIONS=--max-old-space-size=4096
ENABLE_CORS=true
ENABLE_SWAGGER=true
HOT_RELOAD=true

# =============================================================================
# APPLICATION URLS
# =============================================================================

# Frontend and API URLs
FRONTEND_URL="http://localhost:3000"
API_URL="http://localhost:3001"

# =============================================================================
# OAUTH CONFIGURATION (Optional)
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# GitHub OAuth
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# =============================================================================
# DEVELOPMENT SPECIFIC
# =============================================================================

# Development Tools
ENABLE_SWAGGER=true
ENABLE_DEBUG_ROUTES=true
ENABLE_DEV_MIDDLEWARE=true

# Testing Configuration
TEST_DATABASE_URL="file:./test.db"
TEST_TIMEOUT=30000

# =============================================================================
# PRODUCTION SPECIFIC
# =============================================================================

# SSL Configuration (Production)
SSL_CERT_PATH="/path/to/ssl/cert.pem"
SSL_KEY_PATH="/path/to/ssl/key.pem"

# Cluster Configuration
CLUSTER_WORKERS=0  # 0 = auto-detect CPU cores

# Security Headers (Production)
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY="default-src 'self'"

# =============================================================================
# EXAMPLE PRODUCTION VALUES (UPDATE THESE!)
# =============================================================================

# Example of secure production configuration:
# JWT_SECRET="f8d7c6b5a4e3d2c1f0e9d8c7b6a5f4e3d2c1f0e9d8c7b6a5f4e3d2c1f0e9d8c7"
# DATABASE_URL="postgresql://user:password@host:5432/parking_garage_prod"
# REDIS_URL="redis://user:password@redis-host:6379"
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
# NODE_ENV=production
# LOG_LEVEL=warn